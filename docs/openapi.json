{"openapi":"3.1.0","info":{"title":"Inbound Email API","description":"\n# Inbound API\n\nThe Inbound API allows you to manage email infrastructure programmatically - domains, email addresses, webhooks, and more.\n\n## Authentication\n\nAll API requests require a Bearer token in the Authorization header:\n\n```bash\ncurl -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  https://inbound.new/api/e2/domains\n```\n\n## Base URL\n\n```\nhttps://inbound.new/api/e2\n```\n\n## Quick Start\n\n1. **Create a domain** - Register your domain with Inbound\n2. **Configure DNS** - Add the provided DNS records to your domain\n3. **Create an email address** - Set up addresses to receive emails\n4. **Create an endpoint** - Configure where emails are delivered (webhook, forwarding, etc.)\n\n","version":"2.0.0"},"webhooks":{"emailReceived":{"post":{"summary":"Email Received","description":"\nWhen emails arrive at your configured addresses, Inbound sends a webhook to your endpoint with the complete email data.\n\n## Webhook Payload Structure\n\nWe provide a fully typed webhook payload for you to use in your endpoints:\n\n```typescript\nimport type { InboundWebhookPayload } from '@inboundemail/sdk'\n```\n\n### Example Payload\n\n```typescript\nconst payload: InboundWebhookPayload = {\n  event: 'email.received',\n  timestamp: '2024-01-15T10:30:00Z',\n  email: {\n    id: 'inbnd_abc123def456ghi',\n    messageId: '<unique-id@sender.com>',\n    from: {\n      text: 'John Doe <john@sender.com>',\n      addresses: [{\n        name: 'John Doe',\n        address: 'john@sender.com'\n      }]\n    },\n    to: {\n      text: 'support@yourdomain.com',\n      addresses: [{\n        name: null,\n        address: 'support@yourdomain.com'\n      }]\n    },\n    recipient: 'support@yourdomain.com',\n    subject: 'Help with my order',\n    receivedAt: '2024-01-15T10:30:00Z',\n    parsedData: {\n      messageId: '<unique-id@sender.com>',\n      date: new Date('2024-01-15T10:30:00Z'),\n      subject: 'Help with my order',\n      from: { /* ... */ },\n      to: { /* ... */ },\n      cc: null,\n      bcc: null,\n      replyTo: null,\n      textBody: 'Hello, I need help with my recent order...',\n      htmlBody: '<p>Hello, I need help with my recent order...</p>',\n      attachments: [\n        {\n          filename: 'order-receipt.pdf',\n          contentType: 'application/pdf',\n          size: 45678,\n          contentId: '<att_abc123>',\n          contentDisposition: 'attachment',\n          downloadUrl: 'https://inbound.new/api/e2/attachments/inbnd_abc123/order-receipt.pdf'\n        }\n      ]\n    }\n  },\n  endpoint: {\n    id: 'endp_xyz789',\n    name: 'Support Webhook',\n    type: 'webhook'\n  }\n}\n```\n\n## Webhook Security\n\nAlways verify webhook requests before processing them to prevent unauthorized access.\n\n### Verification Headers\n\nEvery webhook request includes security headers:\n\n| Header | Description |\n|--------|-------------|\n| `X-Webhook-Verification-Token` | Unique verification token for your endpoint |\n| `X-Endpoint-ID` | ID of the endpoint that triggered this webhook |\n| `X-Webhook-Event` | Event type (e.g., `email.received`) |\n| `X-Webhook-Timestamp` | ISO 8601 timestamp of when the webhook was sent |\n\n### Verifying with the SDK\n\n```typescript\nimport { Inbound, verifyWebhookFromHeaders } from '@inboundemail/sdk'\n\nconst inbound = new Inbound(process.env.INBOUND_API_KEY!)\n\nexport async function POST(request: Request) {\n  // Verify webhook authenticity before processing\n  const isValid = await verifyWebhookFromHeaders(request.headers, inbound)\n  \n  if (!isValid) {\n    return new Response('Unauthorized', { status: 401 })\n  }\n  \n  // Process the verified webhook payload\n  const payload: InboundWebhookPayload = await request.json()\n  const { email } = payload\n  \n  console.log('Received verified email:', email.subject)\n  \n  return new Response('OK', { status: 200 })\n}\n```\n\n## Downloading Attachments\n\nEach attachment includes a `downloadUrl` for direct file access:\n\n```typescript\n// Download attachments from webhook payload\nfor (const attachment of email.parsedData.attachments) {\n  const response = await fetch(attachment.downloadUrl, {\n    headers: {\n      'Authorization': `Bearer ${process.env.INBOUND_API_KEY}`\n    }\n  })\n  \n  if (response.ok) {\n    const fileBuffer = await response.arrayBuffer()\n    // Process the file...\n  }\n}\n```\n\n> **Note:** Authentication via API key in the Authorization header is required to download attachments.\n","tags":["Webhooks"],"requestBody":{"description":"Webhook payload sent when an email is received","content":{"application/json":{"schema":{"type":"object","properties":{"event":{"type":"string","example":"email.received","description":"The event type"},"timestamp":{"type":"string","format":"date-time","example":"2024-01-15T10:30:00Z"},"email":{"type":"object","properties":{"id":{"type":"string","example":"inbnd_abc123def456ghi"},"messageId":{"type":"string","example":"<unique-id@sender.com>"},"subject":{"type":"string","example":"Help with my order"},"recipient":{"type":"string","example":"support@yourdomain.com"},"from":{"type":"object","properties":{"text":{"type":"string"},"addresses":{"type":"array","items":{"type":"object","properties":{"name":{"type":["string","null"]},"address":{"type":"string"}}}}}},"to":{"type":"object","properties":{"text":{"type":"string"},"addresses":{"type":"array","items":{"type":"object","properties":{"name":{"type":["string","null"]},"address":{"type":"string"}}}}}},"parsedData":{"type":"object","properties":{"textBody":{"type":["string","null"]},"htmlBody":{"type":["string","null"]},"attachments":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"contentType":{"type":"string"},"size":{"type":"integer"},"downloadUrl":{"type":"string"}}}}}}}},"endpoint":{"type":"object","properties":{"id":{"type":"string","example":"endp_xyz789"},"name":{"type":"string","example":"Support Webhook"},"type":{"type":"string","example":"webhook"}}}}}}}},"responses":{"200":{"description":"Webhook processed successfully"}}}}},"tags":[{"name":"Webhooks","description":"Webhooks sent by Inbound to your configured endpoints when events occur."},{"name":"Emails","description":"Send, list, and manage emails. Supports immediate sending, scheduling, replies, and retry functionality."},{"name":"Mail","description":"Inbox and thread views for received emails. Filter by domain, address, or search."},{"name":"Domains","description":"Manage domains for sending and receiving emails. Domains must be verified via DNS before use."},{"name":"Endpoints","description":"Configure where incoming emails are delivered - webhooks, email forwarding, or custom handlers."},{"name":"Email Addresses","description":"Create and manage email addresses on your verified domains."},{"name":"Attachments","description":"Download email attachments using authenticated requests."}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"API Key","description":"Your Inbound API key. Include it in the Authorization header as: Bearer <your-api-key>"}},"schemas":{}},"security":[{"bearerAuth":[]}],"paths":{"/api/e2/domains":{"get":{"tags":["Domains"],"summary":"List all domains","description":"Get paginated list of domains for authenticated user with optional filtering.","x-codeSamples":[{"lang":"javascript","label":"Node.js","source":"import { Inbound } from 'inboundemail'\n\nconst inbound = new Inbound(process.env.INBOUND_API_KEY)\n\nconst { data: domains } = await inbound.domains.list()\n\n// With filters\nconst { data: verified } = await inbound.domains.list({\n  status: 'verified',\n  limit: 10\n})"}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"minimum":1,"maximum":100,"default":50,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":100,"default":50,"type":"integer"}]}},{"name":"offset","in":"query","required":false,"schema":{"minimum":0,"default":0,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"default":0,"type":"integer"}]}},{"name":"status","in":"query","required":false,"schema":{"enum":["pending","verified","failed"],"type":"string"}},{"name":"canReceive","in":"query","required":false,"schema":{"enum":["true","false"],"type":"string"}},{"name":"check","in":"query","required":false,"schema":{"enum":["true"],"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"},"canReceiveEmails":{"type":"boolean"},"hasMxRecords":{"type":"boolean"},"domainProvider":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"providerConfidence":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"lastDnsCheck":{"nullable":true,"anyOf":[{"format":"date-time","type":"string"},{"type":"null"}]},"lastSesCheck":{"nullable":true,"anyOf":[{"format":"date-time","type":"string"},{"type":"null"}]},"isCatchAllEnabled":{"type":"boolean"},"catchAllEndpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"mailFromDomain":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"mailFromDomainStatus":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"mailFromDomainVerifiedAt":{"nullable":true,"anyOf":[{"format":"date-time","type":"string"},{"type":"null"}]},"receiveDmarcEmails":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"userId":{"type":"string"},"stats":{"type":"object","properties":{"totalEmailAddresses":{"type":"number"},"activeEmailAddresses":{"type":"number"},"hasCatchAll":{"type":"boolean"}},"required":["totalEmailAddresses","activeEmailAddresses","hasCatchAll"]},"catchAllEndpoint":{"nullable":true,"anyOf":[{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"isActive":{"type":"boolean"}},"required":["id","name","type","isActive"]},{"type":"null"}]},"verificationCheck":{"type":"object","properties":{"dnsRecords":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"name":{"type":"string"},"value":{"type":"string"},"isVerified":{"type":"boolean"},"error":{"type":"string"}},"required":["type","name","value","isVerified"]}},"sesStatus":{"type":"string"},"isFullyVerified":{"type":"boolean"},"lastChecked":{"format":"date-time","type":"string"}},"required":["dnsRecords","sesStatus","isFullyVerified","lastChecked"]}},"required":["id","domain","status","canReceiveEmails","hasMxRecords","domainProvider","providerConfidence","lastDnsCheck","lastSesCheck","isCatchAllEnabled","catchAllEndpointId","mailFromDomain","mailFromDomainStatus","mailFromDomainVerifiedAt","receiveDmarcEmails","createdAt","updatedAt","userId","stats"]}},"pagination":{"type":"object","properties":{"limit":{"type":"number"},"offset":{"type":"number"},"total":{"type":"number"},"hasMore":{"type":"boolean"}},"required":["limit","offset","total","hasMore"]}},"required":["data","pagination"]}}}}},"operationId":"getApiE2Domains"},"post":{"tags":["Domains"],"summary":"Create new domain","description":"Add a new domain for email receiving. Automatically initiates SES verification and returns required DNS records. Subdomains inherit verification from their verified parent domain.","x-codeSamples":[{"lang":"javascript","label":"Node.js","source":"import { Inbound } from 'inboundemail'\n\nconst inbound = new Inbound(process.env.INBOUND_API_KEY)\n\nconst { data: domain } = await inbound.domains.create({\n  domain: 'example.com'\n})"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"domain":{"minLength":1,"maxLength":253,"type":"string"}},"required":["domain"]}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"domain":{"minLength":1,"maxLength":253,"type":"string"}},"required":["domain"]}},"multipart/form-data":{"schema":{"type":"object","properties":{"domain":{"minLength":1,"maxLength":253,"type":"string"}},"required":["domain"]}}}},"responses":{"201":{"description":"Response for status 201","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string","enum":["pending","verified","failed"]},"canReceiveEmails":{"type":"boolean"},"hasMxRecords":{"type":"boolean"},"domainProvider":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"providerConfidence":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"mailFromDomain":{"type":"string"},"mailFromDomainStatus":{"type":"string"},"dnsRecords":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"name":{"type":"string"},"value":{"type":"string"},"description":{"type":"string"},"isRequired":{"type":"boolean"}},"required":["type","name","value","isRequired"]}},"dnsConflict":{"type":"object","properties":{"hasConflict":{"type":"boolean"},"conflictType":{"type":"string","enum":["mx","cname","both"]},"message":{"type":"string"},"existingRecords":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"value":{"type":"string"}},"required":["type","value"]}}},"required":["hasConflict","message"]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"parentDomain":{"type":"string"},"message":{"type":"string"}},"required":["id","domain","status","canReceiveEmails","hasMxRecords","domainProvider","providerConfidence","dnsRecords","createdAt","updatedAt"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"403":{"description":"Response for status 403","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"409":{"description":"Response for status 409","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}}},"operationId":"postApiE2Domains"}},"/api/e2/domains/{id}":{"get":{"tags":["Domains"],"summary":"Get domain by ID","description":"Get detailed information about a specific domain including DNS records. Use `?check=true` for live DNS and SES verification.","x-codeSamples":[{"lang":"javascript","label":"Node.js","source":"import { Inbound } from 'inboundemail'\n\nconst inbound = new Inbound(process.env.INBOUND_API_KEY)\n\nconst { data: domain } = await inbound.domains.retrieve('dom_abc123')\n\n// With live verification\nconst { data: verified } = await inbound.domains.retrieve('dom_abc123', {\n  check: 'true'\n})"}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"check","in":"query","required":false,"schema":{"enum":["true"],"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"},"canReceiveEmails":{"type":"boolean"},"hasMxRecords":{"type":"boolean"},"domainProvider":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"providerConfidence":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"lastDnsCheck":{"nullable":true,"anyOf":[{"format":"date-time","type":"string"},{"type":"null"}]},"lastSesCheck":{"nullable":true,"anyOf":[{"format":"date-time","type":"string"},{"type":"null"}]},"isCatchAllEnabled":{"type":"boolean"},"catchAllEndpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"mailFromDomain":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"mailFromDomainStatus":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"mailFromDomainVerifiedAt":{"nullable":true,"anyOf":[{"format":"date-time","type":"string"},{"type":"null"}]},"receiveDmarcEmails":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"userId":{"type":"string"},"stats":{"type":"object","properties":{"totalEmailAddresses":{"type":"number"},"activeEmailAddresses":{"type":"number"},"emailsLast24h":{"type":"number"},"emailsLast7d":{"type":"number"},"emailsLast30d":{"type":"number"}},"required":["totalEmailAddresses","activeEmailAddresses","emailsLast24h","emailsLast7d","emailsLast30d"]},"catchAllEndpoint":{"nullable":true,"anyOf":[{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"isActive":{"type":"boolean"}},"required":["id","name","type","isActive"]},{"type":"null"}]},"dnsRecords":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"domainId":{"type":"string"},"recordType":{"type":"string"},"name":{"type":"string"},"value":{"type":"string"},"isRequired":{"type":"boolean"},"isVerified":{"type":"boolean"},"lastChecked":{"nullable":true,"anyOf":[{"format":"date-time","type":"string"},{"type":"null"}]},"createdAt":{"format":"date-time","type":"string"}},"required":["id","domainId","recordType","name","value","isRequired","isVerified","lastChecked","createdAt"]}},"verificationCheck":{"type":"object","properties":{"dnsRecords":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"name":{"type":"string"},"value":{"type":"string"},"isVerified":{"type":"boolean"},"error":{"type":"string"}},"required":["type","name","value","isVerified"]}},"sesStatus":{"type":"string"},"dkimStatus":{"type":"string"},"dkimVerified":{"type":"boolean"},"dkimTokens":{"type":"array","items":{"type":"string"}},"mailFromDomain":{"type":"string"},"mailFromStatus":{"type":"string"},"mailFromVerified":{"type":"boolean"},"isFullyVerified":{"type":"boolean"},"lastChecked":{"format":"date-time","type":"string"}},"required":["dnsRecords","sesStatus","isFullyVerified","lastChecked"]},"authRecommendations":{"type":"object","properties":{"spf":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"},"description":{"type":"string"}},"required":["name","value","description"]},"dmarc":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"},"description":{"type":"string"}},"required":["name","value","description"]}}},"inheritsFromParent":{"type":"boolean"},"parentDomain":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","domain","status","canReceiveEmails","hasMxRecords","domainProvider","providerConfidence","lastDnsCheck","lastSesCheck","isCatchAllEnabled","catchAllEndpointId","mailFromDomain","mailFromDomainStatus","mailFromDomainVerifiedAt","receiveDmarcEmails","createdAt","updatedAt","userId","stats","dnsRecords"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2DomainsById"},"patch":{"tags":["Domains"],"summary":"Update domain catch-all settings","description":"Update catch-all email settings for a domain. Catch-all receives emails sent to any address on your domain. Domain must be verified first.","x-codeSamples":[{"lang":"javascript","label":"Node.js","source":"import { Inbound } from 'inboundemail'\n\nconst inbound = new Inbound(process.env.INBOUND_API_KEY)\n\nconst { data: domain } = await inbound.domains.update('dom_abc123', {\n  isCatchAllEnabled: true,\n  catchAllEndpointId: 'endp_xyz789'\n})"}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"isCatchAllEnabled":{"type":"boolean"},"catchAllEndpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["isCatchAllEnabled"]}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"isCatchAllEnabled":{"type":"boolean"},"catchAllEndpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["isCatchAllEnabled"]}},"multipart/form-data":{"schema":{"type":"object","properties":{"isCatchAllEnabled":{"type":"boolean"},"catchAllEndpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["isCatchAllEnabled"]}}}},"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"},"isCatchAllEnabled":{"type":"boolean"},"catchAllEndpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"catchAllEndpoint":{"nullable":true,"anyOf":[{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"isActive":{"type":"boolean"}},"required":["id","name","type","isActive"]},{"type":"null"}]},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","domain","status","isCatchAllEnabled","catchAllEndpointId","updatedAt"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}}},"operationId":"patchApiE2DomainsById"},"delete":{"tags":["Domains"],"summary":"Delete domain","description":"Delete a domain and all associated resources including email addresses, DNS records, and SES configurations. Root domains with subdomains must have subdomains deleted first.","x-codeSamples":[{"lang":"javascript","label":"Node.js","source":"import { Inbound } from 'inboundemail'\n\nconst inbound = new Inbound(process.env.INBOUND_API_KEY)\n\nconst { data: result } = await inbound.domains.delete('dom_abc123')"}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"deletedResources":{"type":"object","properties":{"domain":{"type":"string"},"emailAddresses":{"type":"number"},"dnsRecords":{"type":"number"},"blockedEmails":{"type":"number"},"sesIdentity":{"type":"boolean"},"sesReceiptRules":{"type":"boolean"}},"required":["domain","emailAddresses","dnsRecords","blockedEmails","sesIdentity","sesReceiptRules"]}},"required":["success","message","deletedResources"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"dependentSubdomains":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"}},"required":["id","domain","status"]}}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"dependentSubdomains":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"}},"required":["id","domain","status"]}}},"required":["error"]}}}},"409":{"description":"Response for status 409","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"dependentSubdomains":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"}},"required":["id","domain","status"]}}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"dependentSubdomains":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"}},"required":["id","domain","status"]}}},"required":["error"]}}}}},"operationId":"deleteApiE2DomainsById"}},"/api/e2/endpoints":{"get":{"tags":["Endpoints"],"summary":"List all endpoints","description":"Get paginated list of endpoints for authenticated user with optional filtering by type, active status, sort order, and search by name","parameters":[{"name":"limit","in":"query","required":false,"schema":{"minimum":1,"maximum":100,"default":50,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":100,"default":50,"type":"integer"}]}},{"name":"offset","in":"query","required":false,"schema":{"minimum":0,"default":0,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"default":0,"type":"integer"}]}},{"name":"type","in":"query","required":false,"schema":{"enum":["webhook","email","email_group"],"type":"string"}},{"name":"active","in":"query","required":false,"schema":{"enum":["true","false"],"type":"string"}},{"name":"sortBy","in":"query","required":false,"schema":{"enum":["newest","oldest"],"type":"string"}},{"name":"search","in":"query","required":false,"schema":{"maxLength":100,"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["webhook","email","email_group"]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"},"description":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"userId":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"groupEmails":{"nullable":true,"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}]},"deliveryStats":{"type":"object","properties":{"total":{"type":"number"},"successful":{"type":"number"},"failed":{"type":"number"},"lastDelivery":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["total","successful","failed","lastDelivery"]}},"required":["id","name","type","config","isActive","description","userId","createdAt","updatedAt","groupEmails","deliveryStats"]}},"pagination":{"type":"object","properties":{"limit":{"type":"number"},"offset":{"type":"number"},"total":{"type":"number"},"hasMore":{"type":"boolean"}},"required":["limit","offset","total","hasMore"]}},"required":["data","pagination"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}}},"operationId":"getApiE2Endpoints"},"post":{"tags":["Endpoints"],"summary":"Create new endpoint","description":"Create a new endpoint (webhook, email, or email_group) for the authenticated user","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"type":{"type":"string","enum":["webhook","email","email_group"]},"config":{"anyOf":[{"type":"object","properties":{"url":{"type":"string"},"timeout":{"minimum":1,"maximum":300,"type":"number"},"retryAttempts":{"minimum":0,"maximum":10,"type":"number"},"headers":{"description":"Custom headers to include with webhook requests","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}}},"required":["url"]},{"type":"object","properties":{"forwardTo":{"format":"email","type":"string"},"preserveHeaders":{"type":"boolean"}},"required":["forwardTo"]},{"type":"object","properties":{"emails":{"minItems":1,"maxItems":50,"type":"array","items":{"format":"email","type":"string"}},"preserveHeaders":{"type":"boolean"}},"required":["emails"]}]},"description":{"maxLength":1000,"type":"string"}},"required":["name","type","config"]}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"type":{"type":"string","enum":["webhook","email","email_group"]},"config":{"anyOf":[{"type":"object","properties":{"url":{"type":"string"},"timeout":{"minimum":1,"maximum":300,"type":"number"},"retryAttempts":{"minimum":0,"maximum":10,"type":"number"},"headers":{"description":"Custom headers to include with webhook requests","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}}},"required":["url"]},{"type":"object","properties":{"forwardTo":{"format":"email","type":"string"},"preserveHeaders":{"type":"boolean"}},"required":["forwardTo"]},{"type":"object","properties":{"emails":{"minItems":1,"maxItems":50,"type":"array","items":{"format":"email","type":"string"}},"preserveHeaders":{"type":"boolean"}},"required":["emails"]}]},"description":{"maxLength":1000,"type":"string"}},"required":["name","type","config"]}},"multipart/form-data":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"type":{"type":"string","enum":["webhook","email","email_group"]},"config":{"anyOf":[{"type":"object","properties":{"url":{"type":"string"},"timeout":{"minimum":1,"maximum":300,"type":"number"},"retryAttempts":{"minimum":0,"maximum":10,"type":"number"},"headers":{"description":"Custom headers to include with webhook requests","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}}},"required":["url"]},{"type":"object","properties":{"forwardTo":{"format":"email","type":"string"},"preserveHeaders":{"type":"boolean"}},"required":["forwardTo"]},{"type":"object","properties":{"emails":{"minItems":1,"maxItems":50,"type":"array","items":{"format":"email","type":"string"}},"preserveHeaders":{"type":"boolean"}},"required":["emails"]}]},"description":{"maxLength":1000,"type":"string"}},"required":["name","type","config"]}}}},"responses":{"201":{"description":"Response for status 201","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["webhook","email","email_group"]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"},"description":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"userId":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"groupEmails":{"nullable":true,"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}]},"deliveryStats":{"type":"object","properties":{"total":{"type":"number"},"successful":{"type":"number"},"failed":{"type":"number"},"lastDelivery":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["total","successful","failed","lastDelivery"]}},"required":["id","name","type","config","isActive","description","userId","createdAt","updatedAt","groupEmails","deliveryStats"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}}},"operationId":"postApiE2Endpoints"}},"/api/e2/endpoints/{id}":{"get":{"tags":["Endpoints"],"summary":"Get endpoint details","description":"Get detailed information about a specific endpoint including delivery stats, recent deliveries, associated emails, and catch-all domains","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["webhook","email","email_group"]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"},"description":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"userId":{"type":"string"},"createdAt":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"updatedAt":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"groupEmails":{"nullable":true,"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}]},"deliveryStats":{"type":"object","properties":{"total":{"type":"number"},"successful":{"type":"number"},"failed":{"type":"number"},"lastDelivery":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["total","successful","failed","lastDelivery"]},"recentDeliveries":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"emailId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"deliveryType":{"type":"string"},"status":{"type":"string"},"attempts":{"type":"number"},"lastAttemptAt":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"responseData":{"x-stainless-any":true},"createdAt":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","emailId","deliveryType","status","attempts","lastAttemptAt","responseData","createdAt"]}},"associatedEmails":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"address":{"type":"string"},"isActive":{"type":"boolean"},"createdAt":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","address","isActive","createdAt"]}},"catchAllDomains":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"domain":{"type":"string"},"status":{"type":"string"}},"required":["id","domain","status"]}}},"required":["id","name","type","config","isActive","description","userId","createdAt","updatedAt","groupEmails","deliveryStats","recentDeliveries","associatedEmails","catchAllDomains"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}}},"operationId":"getApiE2EndpointsById"},"put":{"tags":["Endpoints"],"summary":"Update endpoint","description":"Update an existing endpoint's name, description, active status, config, or webhook format","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"isActive":{"type":"boolean"},"config":{"anyOf":[{"type":"object","properties":{"url":{"type":"string"},"timeout":{"minimum":1,"maximum":300,"type":"number"},"retryAttempts":{"minimum":0,"maximum":10,"type":"number"},"headers":{"description":"Custom headers to include with webhook requests","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}}},"required":["url"]},{"type":"object","properties":{"forwardTo":{"format":"email","type":"string"},"preserveHeaders":{"type":"boolean"}},"required":["forwardTo"]},{"type":"object","properties":{"emails":{"minItems":1,"maxItems":50,"type":"array","items":{"format":"email","type":"string"}},"preserveHeaders":{"type":"boolean"}},"required":["emails"]}]},"webhookFormat":{"type":"string","enum":["inbound","discord","slack"]}}}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"isActive":{"type":"boolean"},"config":{"anyOf":[{"type":"object","properties":{"url":{"type":"string"},"timeout":{"minimum":1,"maximum":300,"type":"number"},"retryAttempts":{"minimum":0,"maximum":10,"type":"number"},"headers":{"description":"Custom headers to include with webhook requests","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}}},"required":["url"]},{"type":"object","properties":{"forwardTo":{"format":"email","type":"string"},"preserveHeaders":{"type":"boolean"}},"required":["forwardTo"]},{"type":"object","properties":{"emails":{"minItems":1,"maxItems":50,"type":"array","items":{"format":"email","type":"string"}},"preserveHeaders":{"type":"boolean"}},"required":["emails"]}]},"webhookFormat":{"type":"string","enum":["inbound","discord","slack"]}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"name":{"minLength":1,"maxLength":255,"type":"string"},"description":{"maxLength":1000,"type":"string"},"isActive":{"type":"boolean"},"config":{"anyOf":[{"type":"object","properties":{"url":{"type":"string"},"timeout":{"minimum":1,"maximum":300,"type":"number"},"retryAttempts":{"minimum":0,"maximum":10,"type":"number"},"headers":{"description":"Custom headers to include with webhook requests","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}}},"required":["url"]},{"type":"object","properties":{"forwardTo":{"format":"email","type":"string"},"preserveHeaders":{"type":"boolean"}},"required":["forwardTo"]},{"type":"object","properties":{"emails":{"minItems":1,"maxItems":50,"type":"array","items":{"format":"email","type":"string"}},"preserveHeaders":{"type":"boolean"}},"required":["emails"]}]},"webhookFormat":{"type":"string","enum":["inbound","discord","slack"]}}}}}},"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["webhook","email","email_group"]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"},"description":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"userId":{"type":"string"},"createdAt":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"updatedAt":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"groupEmails":{"nullable":true,"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}]}},"required":["id","name","type","config","isActive","description","userId","createdAt","updatedAt","groupEmails"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}}},"operationId":"putApiE2EndpointsById"},"delete":{"tags":["Endpoints"],"summary":"Delete endpoint","description":"Delete an endpoint and clean up associated resources (email addresses become store-only, domains lose catch-all config, group entries and delivery history are deleted)","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"cleanup":{"type":"object","properties":{"emailAddressesUpdated":{"type":"number"},"emailAddresses":{"type":"array","items":{"type":"string"}},"domainsUpdated":{"type":"number"},"domains":{"type":"array","items":{"type":"string"}},"groupEmailsDeleted":{"type":"number"},"deliveriesDeleted":{"type":"number"}},"required":["emailAddressesUpdated","emailAddresses","domainsUpdated","domains","groupEmailsDeleted","deliveriesDeleted"]}},"required":["message","cleanup"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}}},"operationId":"deleteApiE2EndpointsById"}},"/api/e2/endpoints/{id}/test":{"post":{"tags":["Endpoints"],"summary":"Test endpoint","description":"Test an endpoint by sending a test payload. For webhooks, supports inbound, discord, and slack formats. For email endpoints, simulates the forwarding process.","x-codeSamples":[{"lang":"javascript","label":"Node.js","source":"import { Inbound } from 'inboundemail'\n\nconst inbound = new Inbound(process.env.INBOUND_API_KEY)\n\nconst { data: result } = await inbound.endpoints.test('endp_abc123', {\n  webhookFormat: 'inbound'\n})"}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"webhookFormat":{"type":"string","enum":["inbound","discord","slack"]},"overrideUrl":{"type":"string"}}}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"webhookFormat":{"type":"string","enum":["inbound","discord","slack"]},"overrideUrl":{"type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"webhookFormat":{"type":"string","enum":["inbound","discord","slack"]},"overrideUrl":{"type":"string"}}}}}},"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"responseTime":{"type":"number"},"statusCode":{"type":"number"},"responseBody":{"type":"string"},"error":{"type":"string"},"testPayload":{"x-stainless-any":true},"webhookFormat":{"type":"string","enum":["inbound","discord","slack"]},"urlTested":{"type":"string"}},"required":["success","message","responseTime"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"anyOf":[{"type":"object","properties":{"error":{"type":"string"},"validFormats":{"type":"array","items":{"type":"string"}}},"required":["error"]},{"type":"object","properties":{"success":{"const":false,"type":"boolean"},"message":{"type":"string"},"responseTime":{"type":"number"}},"required":["success","message","responseTime"]}]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"statusCode":{"type":"number"}},"required":["error","message","statusCode"]}}}}},"operationId":"postApiE2EndpointsByIdTest"}},"/api/e2/email-addresses":{"get":{"tags":["Email Addresses"],"summary":"List all email addresses","description":"Get paginated list of email addresses for authenticated user with optional filtering by domain, active status, and receipt rule configuration","parameters":[{"name":"limit","in":"query","required":false,"schema":{"minimum":1,"maximum":100,"default":50,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":1,"maximum":100,"default":50,"type":"integer"}]}},{"name":"offset","in":"query","required":false,"schema":{"minimum":0,"default":0,"anyOf":[{"format":"integer","default":0,"type":"string"},{"minimum":0,"default":0,"type":"integer"}]}},{"name":"domainId","in":"query","required":false,"schema":{"type":"string"}},{"name":"isActive","in":"query","required":false,"schema":{"enum":["true","false"],"type":"string"}},{"name":"isReceiptRuleConfigured","in":"query","required":false,"schema":{"enum":["true","false"],"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"address":{"type":"string"},"domainId":{"type":"string"},"webhookId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"endpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"isActive":{"type":"boolean"},"isReceiptRuleConfigured":{"type":"boolean"},"receiptRuleName":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"userId":{"type":"string"},"domain":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"status":{"type":"string"}},"required":["id","name","status"]},"routing":{"type":"object","properties":{"type":{"type":"string","enum":["webhook","endpoint","none"]},"id":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"name":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"}},"required":["type","id","name","isActive"]}},"required":["id","address","domainId","webhookId","endpointId","isActive","isReceiptRuleConfigured","receiptRuleName","createdAt","updatedAt","userId","domain","routing"]}},"pagination":{"type":"object","properties":{"limit":{"type":"number"},"offset":{"type":"number"},"total":{"type":"number"},"hasMore":{"type":"boolean"}},"required":["limit","offset","total","hasMore"]}},"required":["data","pagination"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2Email-addresses"},"post":{"tags":["Email Addresses"],"summary":"Create email address","description":"Create a new email address for an authenticated user's domain. Automatically configures AWS SES receipt rules.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"address":{"minLength":1,"type":"string"},"domainId":{"minLength":1,"type":"string"},"endpointId":{"type":"string"},"webhookId":{"type":"string"},"isActive":{"default":true,"type":"boolean"}},"required":["address","domainId"]}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"address":{"minLength":1,"type":"string"},"domainId":{"minLength":1,"type":"string"},"endpointId":{"type":"string"},"webhookId":{"type":"string"},"isActive":{"default":true,"type":"boolean"}},"required":["address","domainId"]}},"multipart/form-data":{"schema":{"type":"object","properties":{"address":{"minLength":1,"type":"string"},"domainId":{"minLength":1,"type":"string"},"endpointId":{"type":"string"},"webhookId":{"type":"string"},"isActive":{"default":true,"type":"boolean"}},"required":["address","domainId"]}}}},"responses":{"201":{"description":"Response for status 201","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"address":{"type":"string"},"domainId":{"type":"string"},"webhookId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"endpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"isActive":{"type":"boolean"},"isReceiptRuleConfigured":{"type":"boolean"},"receiptRuleName":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"userId":{"type":"string"},"domain":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"status":{"type":"string"}},"required":["id","name","status"]},"routing":{"type":"object","properties":{"type":{"type":"string","enum":["webhook","endpoint","none"]},"id":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"name":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"}},"required":["type","id","name","isActive"]},"warning":{"type":"string"}},"required":["id","address","domainId","webhookId","endpointId","isActive","isReceiptRuleConfigured","receiptRuleName","createdAt","updatedAt","userId","domain","routing"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"required":{"type":"array","items":{"type":"string"}}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"required":{"type":"array","items":{"type":"string"}}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"required":{"type":"array","items":{"type":"string"}}},"required":["error"]}}}},"409":{"description":"Response for status 409","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"required":{"type":"array","items":{"type":"string"}}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"},"required":{"type":"array","items":{"type":"string"}}},"required":["error"]}}}}},"operationId":"postApiE2Email-addresses"}},"/api/e2/email-addresses/{id}":{"get":{"tags":["Email Addresses"],"summary":"Get email address","description":"Get a specific email address by ID with detailed information including routing configuration","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"address":{"type":"string"},"domainId":{"type":"string"},"webhookId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"endpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"isActive":{"type":"boolean"},"isReceiptRuleConfigured":{"type":"boolean"},"receiptRuleName":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"userId":{"type":"string"},"domain":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"status":{"type":"string"}},"required":["id","name","status"]},"routing":{"type":"object","properties":{"type":{"type":"string","enum":["webhook","endpoint","none"]},"id":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"name":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"}},"required":["type","id","name","isActive"]}},"required":["id","address","domainId","webhookId","endpointId","isActive","isReceiptRuleConfigured","receiptRuleName","createdAt","updatedAt","userId","domain","routing"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2Email-addressesById"},"put":{"tags":["Email Addresses"],"summary":"Update email address","description":"Update an email address's routing (endpoint/webhook) or active status. Cannot have both endpoint and webhook.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"endpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"webhookId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"isActive":{"type":"boolean"}}}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"endpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"webhookId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"isActive":{"type":"boolean"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"endpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"webhookId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"isActive":{"type":"boolean"}}}}}},"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"address":{"type":"string"},"domainId":{"type":"string"},"webhookId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"endpointId":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"isActive":{"type":"boolean"},"isReceiptRuleConfigured":{"type":"boolean"},"receiptRuleName":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"userId":{"type":"string"},"domain":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"status":{"type":"string"}},"required":["id","name","status"]},"routing":{"type":"object","properties":{"type":{"type":"string","enum":["webhook","endpoint","none"]},"id":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"name":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"config":{"x-stainless-any":true},"isActive":{"type":"boolean"}},"required":["type","id","name","isActive"]},"warning":{"type":"string"}},"required":["id","address","domainId","webhookId","endpointId","isActive","isReceiptRuleConfigured","receiptRuleName","createdAt","updatedAt","userId","domain","routing"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}}},"operationId":"putApiE2Email-addressesById"},"delete":{"tags":["Email Addresses"],"summary":"Delete email address","description":"Delete an email address and clean up associated SES receipt rules. Returns cleanup status.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"cleanup":{"type":"object","properties":{"sesRuleUpdated":{"type":"boolean"},"emailAddress":{"type":"string"},"domain":{"type":"string"},"warning":{"type":"string"}},"required":["sesRuleUpdated","emailAddress","domain"]}},"required":["message","cleanup"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"code":{"type":"string"}},"required":["error"]}}}}},"operationId":"deleteApiE2Email-addressesById"}},"/api/e2/attachments/{id}/{filename}":{"get":{"tags":["Attachments"],"summary":"Download email attachment","description":"Download an email attachment by email ID and filename. Returns the binary file content with appropriate Content-Type and Content-Disposition headers.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2AttachmentsByIdByFilename"}},"/api/e2/emails":{"post":{"tags":["Emails"],"summary":"Send an email","description":"Send an email immediately or schedule it for later using the scheduled_at parameter. Supports HTML/text content, attachments, and custom headers.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"from":{"description":"Sender email address","type":"string"},"to":{"description":"Recipient email address(es)","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"subject":{"description":"Email subject","type":"string"},"html":{"description":"HTML content of the email","type":"string"},"text":{"description":"Plain text content of the email","type":"string"},"cc":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"bcc":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"reply_to":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"headers":{"description":"Custom email headers","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}},"attachments":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"content":{"type":"string"},"content_type":{"type":"string"},"path":{"type":"string"}},"required":["filename","content"]}},"tags":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"required":["name","value"]}},"scheduled_at":{"description":"ISO 8601 date or natural language for scheduling","type":"string"},"timezone":{"description":"Timezone for natural language parsing","type":"string"}},"required":["from","to","subject"]}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"from":{"description":"Sender email address","type":"string"},"to":{"description":"Recipient email address(es)","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"subject":{"description":"Email subject","type":"string"},"html":{"description":"HTML content of the email","type":"string"},"text":{"description":"Plain text content of the email","type":"string"},"cc":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"bcc":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"reply_to":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"headers":{"description":"Custom email headers","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}},"attachments":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"content":{"type":"string"},"content_type":{"type":"string"},"path":{"type":"string"}},"required":["filename","content"]}},"tags":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"required":["name","value"]}},"scheduled_at":{"description":"ISO 8601 date or natural language for scheduling","type":"string"},"timezone":{"description":"Timezone for natural language parsing","type":"string"}},"required":["from","to","subject"]}},"multipart/form-data":{"schema":{"type":"object","properties":{"from":{"description":"Sender email address","type":"string"},"to":{"description":"Recipient email address(es)","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"subject":{"description":"Email subject","type":"string"},"html":{"description":"HTML content of the email","type":"string"},"text":{"description":"Plain text content of the email","type":"string"},"cc":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"bcc":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"reply_to":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"headers":{"description":"Custom email headers","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}},"attachments":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"content":{"type":"string"},"content_type":{"type":"string"},"path":{"type":"string"}},"required":["filename","content"]}},"tags":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"required":["name","value"]}},"scheduled_at":{"description":"ISO 8601 date or natural language for scheduling","type":"string"},"timezone":{"description":"Timezone for natural language parsing","type":"string"}},"required":["from","to","subject"]}}}},"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"message_id":{"type":"string"}},"required":["id"]}}}},"201":{"description":"Response for status 201","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"scheduled_at":{"type":"string"},"status":{"const":"scheduled","type":"string"},"timezone":{"type":"string"}},"required":["id","scheduled_at","status","timezone"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"403":{"description":"Response for status 403","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"429":{"description":"Response for status 429","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}}},"operationId":"postApiE2Emails"},"get":{"tags":["Emails"],"summary":"List all emails","description":"List all email activity (sent, received, and scheduled) with comprehensive filtering options.\n\n**Type Filtering:**\n- `all` - Returns sent, received, and scheduled emails combined (default)\n- `sent` - Only outbound emails you've sent\n- `received` - Only inbound emails you've received\n- `scheduled` - Only emails scheduled for future delivery\n\n**Status Filtering:**\n- `delivered` - Successfully delivered emails\n- `pending` - Emails currently being processed\n- `failed` - Emails that failed to deliver\n- `bounced` - Emails that bounced (sent only)\n- `scheduled` - Emails scheduled for future delivery\n- `cancelled` - Cancelled scheduled emails\n- `unread` - Unread received emails\n- `read` - Read received emails\n- `archived` - Archived received emails\n\n**Time Range Filtering:**\n- `1h` - Last hour\n- `24h` - Last 24 hours\n- `7d` - Last 7 days\n- `30d` - Last 30 days (default)\n- `90d` - Last 90 days\n- `all` - All time\n\n**Address Filtering:**\nSupports filtering by domain ID, domain name, address ID, or raw email address (e.g., 'user@example.com').","parameters":[{"name":"type","in":"query","required":false,"schema":{"type":"string","enum":["all","sent","received","scheduled"]}},{"name":"status","in":"query","required":false,"schema":{"type":"string","enum":["all","delivered","pending","failed","bounced","scheduled","cancelled","unread","read","archived"]}},{"name":"time_range","in":"query","required":false,"schema":{"type":"string","enum":["1h","24h","7d","30d","90d","all"]}},{"name":"search","in":"query","required":false,"schema":{"description":"Search query to filter emails by subject, sender, or recipient. Case-insensitive partial match.","type":"string"}},{"name":"domain","in":"query","required":false,"schema":{"description":"Filter by domain. Accepts domain ID (e.g., 'dom_xxx') or domain name (e.g., 'example.com').","type":"string"}},{"name":"address","in":"query","required":false,"schema":{"description":"Filter by email address. Accepts address ID (e.g., 'addr_xxx') or raw email address (e.g., 'user@example.com').","type":"string"}},{"name":"limit","in":"query","required":false,"schema":{"description":"Maximum number of emails to return (1-100). Default is 50.","default":"50","type":"string"}},{"name":"offset","in":"query","required":false,"schema":{"description":"Number of emails to skip for pagination. Default is 0.","default":"0","type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"description":"Array of email objects matching the query","type":"array","items":{"type":"object","properties":{"id":{"description":"Unique identifier for the email","type":"string"},"type":{"type":"string","enum":["sent","received","scheduled"]},"message_id":{"nullable":true,"anyOf":[{"description":"RFC 2822 Message-ID header value","type":"string"},{"type":"null"}]},"from":{"description":"Sender email address","type":"string"},"from_name":{"nullable":true,"anyOf":[{"description":"Sender display name if available","type":"string"},{"type":"null"}]},"to":{"description":"Array of recipient email addresses","type":"array","items":{"type":"string"}},"cc":{"description":"Array of CC recipient email addresses","type":"array","items":{"type":"string"}},"subject":{"description":"Email subject line","type":"string"},"preview":{"nullable":true,"anyOf":[{"description":"First 200 characters of the email body as a preview","type":"string"},{"type":"null"}]},"status":{"description":"Current status of the email (delivered, pending, failed, bounced, scheduled, cancelled)","type":"string"},"created_at":{"description":"ISO 8601 timestamp when the email was created/received","type":"string"},"sent_at":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp when the email was sent","type":"string"},{"type":"null"}]},"scheduled_at":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp when the email is scheduled to be sent","type":"string"},{"type":"null"}]},"has_attachments":{"description":"Whether the email has any attachments","type":"boolean"},"attachment_count":{"description":"Number of attachments on the email","type":"number"},"is_read":{"description":"Whether the email has been read (only for received emails)","type":"boolean"},"read_at":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp when the email was marked as read (only for received emails)","type":"string"},{"type":"null"}]},"is_archived":{"description":"Whether the email has been archived (only for received emails)","type":"boolean"},"thread_id":{"nullable":true,"anyOf":[{"description":"ID of the thread this email belongs to, if threaded","type":"string"},{"type":"null"}]}},"required":["id","type","from","to","subject","status","created_at","has_attachments"]}},"pagination":{"description":"Pagination metadata","type":"object","properties":{"limit":{"description":"Number of results per page","type":"number"},"offset":{"description":"Number of results skipped","type":"number"},"total":{"description":"Total number of matching emails","type":"number"},"has_more":{"description":"Whether there are more results available","type":"boolean"}},"required":["limit","offset","total","has_more"]},"filters":{"description":"Applied filters for this query","type":"object","properties":{"type":{"description":"Applied type filter","type":"string"},"status":{"description":"Applied status filter","type":"string"},"time_range":{"description":"Applied time range filter","type":"string"},"search":{"description":"Applied search query","type":"string"},"domain":{"description":"Applied domain filter","type":"string"},"address":{"description":"Applied address filter","type":"string"}}}},"required":["data","pagination","filters"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2Emails"}},"/api/e2/emails/{id}":{"get":{"tags":["Emails"],"summary":"Get email by ID","description":"Retrieve a single email by ID. Works for sent, received, and scheduled emails.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"object":{"const":"email","type":"string"},"id":{"type":"string"},"type":{"type":"string","enum":["sent","received","scheduled"]},"from":{"type":"string"},"to":{"type":"array","items":{"type":"string"}},"cc":{"nullable":true,"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}]},"bcc":{"nullable":true,"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}]},"reply_to":{"nullable":true,"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}]},"subject":{"type":"string"},"html":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"text":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"status":{"type":"string"},"created_at":{"type":"string"},"sent_at":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"scheduled_at":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"has_attachments":{"type":"boolean"},"attachments":{"type":"array","items":{"x-stainless-any":true}},"is_read":{"type":"boolean"},"thread_id":{"nullable":true,"anyOf":[{"type":"string"},{"type":"null"}]},"thread_position":{"nullable":true,"anyOf":[{"type":"number"},{"type":"null"}]},"headers":{"x-stainless-any":true},"tags":{"type":"array","items":{"x-stainless-any":true}}},"required":["object","id","type","from","to","subject","status","created_at","has_attachments"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2EmailsById"},"delete":{"tags":["Emails"],"summary":"Cancel scheduled email","description":"Cancel a scheduled email by ID. Only works for emails that haven't been sent yet.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"id":{"type":"string"}},"required":["success","message","id"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}}},"operationId":"deleteApiE2EmailsById"}},"/api/e2/emails/{id}/reply":{"post":{"tags":["Emails"],"summary":"Reply to an email","description":"Reply to an email or thread. Accepts either an email ID or thread ID (replies to latest message in thread). Supports reply all functionality.","parameters":[{"name":"id","in":"path","required":true,"schema":{"description":"Email ID or Thread ID to reply to","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"from":{"description":"Sender email address","type":"string"},"to":{"description":"Recipient email address(es) - defaults to original sender","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"subject":{"description":"Email subject - defaults to Re: original subject","type":"string"},"html":{"description":"HTML content of the email","type":"string"},"text":{"description":"Plain text content of the email","type":"string"},"headers":{"description":"Custom email headers","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}},"attachments":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"content":{"type":"string"},"content_type":{"type":"string"},"path":{"type":"string"}},"required":["filename","content"]}},"reply_all":{"description":"Include original CC recipients","type":"boolean"},"tags":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"required":["name","value"]}}},"required":["from"]}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"from":{"description":"Sender email address","type":"string"},"to":{"description":"Recipient email address(es) - defaults to original sender","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"subject":{"description":"Email subject - defaults to Re: original subject","type":"string"},"html":{"description":"HTML content of the email","type":"string"},"text":{"description":"Plain text content of the email","type":"string"},"headers":{"description":"Custom email headers","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}},"attachments":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"content":{"type":"string"},"content_type":{"type":"string"},"path":{"type":"string"}},"required":["filename","content"]}},"reply_all":{"description":"Include original CC recipients","type":"boolean"},"tags":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"required":["name","value"]}}},"required":["from"]}},"multipart/form-data":{"schema":{"type":"object","properties":{"from":{"description":"Sender email address","type":"string"},"to":{"description":"Recipient email address(es) - defaults to original sender","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"subject":{"description":"Email subject - defaults to Re: original subject","type":"string"},"html":{"description":"HTML content of the email","type":"string"},"text":{"description":"Plain text content of the email","type":"string"},"headers":{"description":"Custom email headers","type":"object","patternProperties":{"^(.*)$":{"type":"string"}}},"attachments":{"type":"array","items":{"type":"object","properties":{"filename":{"type":"string"},"content":{"type":"string"},"content_type":{"type":"string"},"path":{"type":"string"}},"required":["filename","content"]}},"reply_all":{"description":"Include original CC recipients","type":"boolean"},"tags":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"required":["name","value"]}}},"required":["from"]}}}},"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"message_id":{"type":"string"},"aws_message_id":{"type":"string"},"replied_to_email_id":{"type":"string"},"replied_to_thread_id":{"type":"string"},"is_thread_reply":{"type":"boolean"}},"required":["id","message_id","aws_message_id","replied_to_email_id","is_thread_reply"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"403":{"description":"Response for status 403","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"429":{"description":"Response for status 429","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}}},"operationId":"postApiE2EmailsByIdReply"}},"/api/e2/emails/{id}/retry":{"post":{"tags":["Emails"],"summary":"Retry email delivery","description":"Retry delivery of a received email. Can retry to a specific endpoint, retry a specific failed delivery, or retry to all configured endpoints.","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"endpoint_id":{"description":"Endpoint ID to retry delivery to. If not provided, retries to all configured endpoints.","type":"string"},"delivery_id":{"description":"Specific delivery ID to retry. If provided, retries that specific delivery.","type":"string"}}}},"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"endpoint_id":{"description":"Endpoint ID to retry delivery to. If not provided, retries to all configured endpoints.","type":"string"},"delivery_id":{"description":"Specific delivery ID to retry. If provided, retries that specific delivery.","type":"string"}}}},"multipart/form-data":{"schema":{"type":"object","properties":{"endpoint_id":{"description":"Endpoint ID to retry delivery to. If not provided, retries to all configured endpoints.","type":"string"},"delivery_id":{"description":"Specific delivery ID to retry. If provided, retries that specific delivery.","type":"string"}}}}}},"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"delivery_id":{"type":"string"}},"required":["success","message"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"required":["error"]}}}}},"operationId":"postApiE2EmailsByIdRetry"}},"/api/e2/mail/threads":{"get":{"tags":["Inbox"],"summary":"List inbox threads","description":"List email threads (conversations) for your inbox with cursor-based pagination. This is the primary endpoint for building an inbox UI.\n\n**What is a Thread?**\nA thread groups related emails together based on the In-Reply-To and References headers, similar to how Gmail groups conversations. Each thread contains both inbound (received) and outbound (sent) messages.\n\n**Filtering:**\n- `domain` - Filter by domain ID or name (e.g., 'example.com'). Returns threads where any participant matches the domain.\n- `address` - Filter by email address (e.g., 'user@example.com'). Returns threads where the address is a participant.\n- `search` - Search in subject lines and participant emails.\n- `unread` - Set to 'true' to only return threads with unread messages.\n\n**Pagination:**\nUses cursor-based pagination for efficient infinite scroll. Pass `pagination.next_cursor` from the response as the `cursor` parameter to get the next page.\n\n**Response:**\nEach thread includes:\n- Thread metadata (subject, participants, message count)\n- `latest_message` - Preview of the most recent message (inbound or outbound)\n- `has_unread` - Whether there are unread inbound messages\n- `unread_count` - Number of unread messages\n\n**Use with /mail/threads/:id:**\nUse this endpoint to list threads, then use `GET /mail/threads/:id` to fetch all messages in a specific thread.","parameters":[{"name":"domain","in":"query","required":false,"schema":{"description":"Filter threads by domain. Accepts domain ID (e.g., 'dom_xxx') or domain name (e.g., 'example.com'). Returns threads where any participant email matches the domain.","type":"string"}},{"name":"address","in":"query","required":false,"schema":{"description":"Filter threads by email address. Accepts address ID (e.g., 'addr_xxx') or raw email address (e.g., 'user@example.com'). Returns threads where the address is a participant.","type":"string"}},{"name":"limit","in":"query","required":false,"schema":{"description":"Maximum number of threads to return (1-100). Default is 25.","default":"25","type":"string"}},{"name":"cursor","in":"query","required":false,"schema":{"description":"Cursor for pagination. Pass the thread ID from `pagination.next_cursor` of the previous response to get the next page.","type":"string"}},{"name":"search","in":"query","required":false,"schema":{"description":"Search query to filter threads by subject or participant emails. Case-insensitive partial match.","type":"string"}},{"name":"unread","in":"query","required":false,"schema":{"description":"Filter by unread status. Set to 'true' to only return threads with unread messages.","default":"false","type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"threads":{"description":"Array of thread objects matching the query, sorted by last message date (newest first)","type":"array","items":{"type":"object","properties":{"id":{"description":"Unique identifier for the thread","type":"string"},"root_message_id":{"description":"RFC 2822 Message-ID of the first message in the thread","type":"string"},"normalized_subject":{"nullable":true,"anyOf":[{"description":"Normalized subject line (stripped of Re:, Fwd:, etc.) used for thread grouping","type":"string"},{"type":"null"}]},"participant_emails":{"description":"Array of all unique email addresses that have participated in this thread","type":"array","items":{"type":"string"}},"participant_names":{"description":"Array of formatted participant names in the format 'First Last <email@domain.com>' or just 'email@domain.com' if no name is available","type":"array","items":{"type":"string"}},"message_count":{"description":"Total number of messages in the thread (both inbound and outbound)","type":"number"},"last_message_at":{"description":"ISO 8601 timestamp of the most recent message in the thread","type":"string"},"created_at":{"description":"ISO 8601 timestamp when the thread was created (first message received)","type":"string"},"latest_message":{"nullable":true,"anyOf":[{"type":"object","properties":{"id":{"description":"Unique identifier of the message","type":"string"},"type":{"description":"Whether the message was received (inbound) or sent (outbound)","anyOf":[{"const":"inbound","type":"string"},{"const":"outbound","type":"string"}]},"subject":{"nullable":true,"anyOf":[{"description":"Subject line of the message","type":"string"},{"type":"null"}]},"from_text":{"description":"Formatted sender information (name and/or email)","type":"string"},"text_preview":{"nullable":true,"anyOf":[{"description":"First 200 characters of the message body as a preview","type":"string"},{"type":"null"}]},"is_read":{"description":"Whether the message has been read (always true for outbound)","type":"boolean"},"has_attachments":{"description":"Whether the message has any attachments","type":"boolean"},"date":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp of when the message was sent/received","type":"string"},{"type":"null"}]}},"required":["id","type","from_text","is_read","has_attachments"]},{"type":"null"}]},"has_unread":{"description":"Whether the thread has any unread inbound messages","type":"boolean"},"is_archived":{"description":"Whether the thread has been archived","type":"boolean"},"unread_count":{"description":"Number of unread messages in the thread","type":"number"}},"required":["id","root_message_id","participant_emails","participant_names","message_count","last_message_at","created_at","has_unread","is_archived"]}},"pagination":{"description":"Pagination metadata for cursor-based pagination","type":"object","properties":{"limit":{"description":"Number of results per page","type":"number"},"has_more":{"description":"Whether there are more threads available after this page","type":"boolean"},"next_cursor":{"nullable":true,"anyOf":[{"description":"Cursor to pass as the `cursor` parameter to fetch the next page. Null if no more results.","type":"string"},{"type":"null"}]}},"required":["limit","has_more"]},"filters":{"description":"Applied filters for this query","type":"object","properties":{"search":{"description":"Applied search query","type":"string"},"unread_only":{"description":"Whether filtering for unread threads only","type":"boolean"},"domain":{"description":"Applied domain filter (resolved domain name)","type":"string"},"address":{"description":"Applied address filter (resolved email address)","type":"string"}}}},"required":["threads","pagination","filters"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2MailThreads"}},"/api/e2/mail/threads/{id}":{"get":{"tags":["Inbox"],"summary":"Get thread by ID","description":"Retrieve a complete email thread (conversation) with all messages.\n\n**What You Get:**\n- Thread metadata (subject, participants, timestamps)\n- All messages in the thread (both inbound and outbound)\n- Messages sorted chronologically by thread position\n\n**Message Types:**\n- `inbound` - Emails you received\n- `outbound` - Emails you sent (includes delivery status)\n\n**Message Content:**\nEach message includes:\n- Full body content (text and HTML)\n- Sender and recipient information\n- Attachments metadata\n- Read status and timestamps\n- Threading headers (In-Reply-To, References)\n\n**Typical Workflow:**\n1. List threads using `GET /mail/threads`\n2. User clicks a thread\n3. Fetch full thread using this endpoint\n4. Display conversation view with all messages","parameters":[{"name":"id","in":"path","required":true,"schema":{"description":"The unique thread ID to retrieve","type":"string"}}],"responses":{"200":{"description":"Response for status 200","content":{"application/json":{"schema":{"type":"object","properties":{"thread":{"type":"object","properties":{"id":{"description":"Unique identifier for the thread","type":"string"},"root_message_id":{"description":"RFC 2822 Message-ID of the first message in the thread","type":"string"},"normalized_subject":{"nullable":true,"anyOf":[{"description":"Normalized subject line (stripped of Re:, Fwd:, etc.)","type":"string"},{"type":"null"}]},"participant_emails":{"description":"Array of all unique email addresses that have participated in this thread","type":"array","items":{"type":"string"}},"participant_names":{"description":"Array of formatted participant names in the format 'First Last <email@domain.com>' or just 'email@domain.com' if no name is available","type":"array","items":{"type":"string"}},"message_count":{"description":"Total number of messages in the thread","type":"number"},"last_message_at":{"description":"ISO 8601 timestamp of the most recent message","type":"string"},"created_at":{"description":"ISO 8601 timestamp when the thread was created","type":"string"},"updated_at":{"description":"ISO 8601 timestamp when the thread was last updated","type":"string"}},"required":["id","root_message_id","participant_emails","participant_names","message_count","last_message_at","created_at","updated_at"]},"messages":{"description":"Array of all messages in the thread, sorted by thread position (chronological)","type":"array","items":{"type":"object","properties":{"id":{"description":"Unique identifier for the message","type":"string"},"message_id":{"nullable":true,"anyOf":[{"description":"RFC 2822 Message-ID header value","type":"string"},{"type":"null"}]},"type":{"type":"string","enum":["inbound","outbound"]},"thread_position":{"description":"Position of the message in the thread (0 = first message)","type":"number"},"subject":{"nullable":true,"anyOf":[{"description":"Subject line of the message","type":"string"},{"type":"null"}]},"text_body":{"nullable":true,"anyOf":[{"description":"Plain text body of the message","type":"string"},{"type":"null"}]},"html_body":{"nullable":true,"anyOf":[{"description":"HTML body of the message","type":"string"},{"type":"null"}]},"from":{"description":"Formatted sender (display name and email)","type":"string"},"from_name":{"nullable":true,"anyOf":[{"description":"Sender display name if available","type":"string"},{"type":"null"}]},"from_address":{"nullable":true,"anyOf":[{"description":"Sender email address","type":"string"},{"type":"null"}]},"to":{"description":"Array of recipient email addresses","type":"array","items":{"type":"string"}},"cc":{"description":"Array of CC recipient email addresses","type":"array","items":{"type":"string"}},"bcc":{"description":"Array of BCC recipient email addresses","type":"array","items":{"type":"string"}},"date":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp from the Date header","type":"string"},{"type":"null"}]},"received_at":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp when the message was received (inbound only)","type":"string"},{"type":"null"}]},"sent_at":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp when the message was sent (outbound only)","type":"string"},{"type":"null"}]},"is_read":{"description":"Whether the message has been read (always true for outbound)","type":"boolean"},"read_at":{"nullable":true,"anyOf":[{"description":"ISO 8601 timestamp when the message was marked as read","type":"string"},{"type":"null"}]},"has_attachments":{"description":"Whether the message has any attachments","type":"boolean"},"attachments":{"description":"Array of attachment metadata","type":"array","items":{"type":"object","properties":{"filename":{"description":"Original filename of the attachment","type":"string"},"contentType":{"description":"MIME type of the attachment","type":"string"},"size":{"description":"Size of the attachment in bytes","type":"number"},"contentId":{"nullable":true,"anyOf":[{"description":"Content-ID for inline attachments","type":"string"},{"type":"null"}]},"content":{"description":"Base64-encoded content (if included)","type":"string"}}}},"in_reply_to":{"nullable":true,"anyOf":[{"description":"RFC 2822 In-Reply-To header value","type":"string"},{"type":"null"}]},"references":{"description":"Array of Message-IDs from the References header","type":"array","items":{"type":"string"}},"headers":{"x-stainless-any":true,"description":"Raw email headers as key-value pairs"},"tags":{"description":"Array of tags attached to the message (outbound only)","type":"array","items":{"type":"object","properties":{"name":{"description":"Tag name","type":"string"},"value":{"description":"Tag value","type":"string"}},"required":["name","value"]}},"status":{"description":"Delivery status for outbound messages (pending, sent, failed, bounced)","type":"string"},"failure_reason":{"nullable":true,"anyOf":[{"description":"Error message if the outbound message failed to send","type":"string"},{"type":"null"}]}},"required":["id","type","thread_position","from","to","cc","bcc","is_read","has_attachments","attachments","references","headers","tags"]}},"total_count":{"description":"Total number of messages returned","type":"number"}},"required":["thread","messages","total_count"]}}}},"400":{"description":"Response for status 400","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}},"401":{"description":"Response for status 401","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}},"404":{"description":"Response for status 404","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}},"500":{"description":"Response for status 500","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"description":"Error message describing what went wrong","type":"string"}},"required":["error"]}}}}},"operationId":"getApiE2MailThreadsById"}}}}